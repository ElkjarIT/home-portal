# ─────────────────────────────────────────────────────────────────────────────
# Immich worker node — environment variables
# Copy this file to .env and fill in the values that match your primary server.
# ─────────────────────────────────────────────────────────────────────────────

# Immich version — MUST match the tag running on your primary Immich server
# to avoid job-format or schema mismatches.
IMMICH_VERSION=release

# ─── Library mount ────────────────────────────────────────────────────────────
# Docker Desktop on Windows cannot pass WSL2 CIFS/NFS mounts into containers.
# Instead, create a Docker-native CIFS volume ONCE before first start.
# This mounts the FULL /data/immich root so uploads, icloud, messages and all
# other asset paths match the primary server's container layout at /opt/immich.
#
#   docker volume create --driver local --opt type=cifs \
#     --opt device=//10.10.40.40/immich-data \
#     "--opt" "o=addr=10.10.40.40,username=odin,password=<SMB_PASS>,uid=1000,gid=1000,file_mode=0660,dir_mode=0770" \
#     immich-data
#
# The compose file references this volume as external (name: immich-data).
# No UPLOAD_LOCATION env var is needed.

# ─── Primary Immich database (Proxmox VM) ─────────────────────────────────────
DB_HOSTNAME=10.10.40.40
DB_PORT=5432
DB_USERNAME=postgres
DB_PASSWORD=
DB_DATABASE_NAME=immich

# ─── Primary Immich Redis (Proxmox VM) ────────────────────────────────────────
REDIS_HOSTNAME=10.10.40.40
REDIS_PORT=6379

# ─── Timezone ─────────────────────────────────────────────────────────────────
TZ=Europe/Copenhagen
